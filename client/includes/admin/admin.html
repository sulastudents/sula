<template name="adminLayout">
    {{#if isAllowed}}
        {{> admin}}
    {{else}}
    <div class="row">
        <form id="access" class="col s12">
            <div class="row">
                <div class="input-field col s12">
                    <input id="code" type="text" class="validate">
                    <label for="code">super secret code</label>
                </div>
            </div>

            <button class="btn waves-effect waves-light" type="submit" name="action">Submit</button>
        </form>
    </div>
    {{/if}}

</template>
<template name="admin">
    {{> adminHeader}}

    {{> Template.dynamic template = template}}
</template>

<template name="adminHeader">
    <nav class="teal">
        <div class="nav-wrapper">
            <a href="{{pathFor 'students'}}" class="brand-logo">
                <img class="responsive-img" id="logo" src="/resources/sula_logo_official.png" alt="Sula Students">
                <span>Sula Administration</span>
            </a>
            <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down">
                <li class="adminSummary"><a href="">Summary</a></li>
                <li class="adminUsers"><a href="">Users</a></li>
                <li class="adminDiscounts"><a href="">Discounts</a></li>
                <li class="adminStudents"><a href="">Students</a></li>
            </ul>
            <ul class="side-nav" id="mobile-demo">
                <li class="adminSummary"><a href="">Summary</a></li>
                <li class="adminUsers"><a href="">Users</a></li>
                <li class="adminDiscounts"><a href="">Discounts</a></li>
                <li class="adminStudents"><a href="">Students</a></li>
            </ul>
        </div>
    </nav>
</template>

<template name="adminSummary">
    <div class="container">
        <br>

        <div class="row">

            <!-- {{#with usersCollection}} -->
                <div class="col s12 m4">
                    <div class="adminUsers card-panel teal hoverable">
                        <span class="white-text">
                            <h4>Users</h4>
                            <h3 class="text-right">{{usersCount}}</h3>
                        </span>
                    </div>
                </div>
            <!-- {{#with}} -->

            <div class="col s12 m4">
                <div class="adminDiscounts card-panel teal hoverable">
                    <span class="white-text">
                        <h4>Discounts</h4>
                        <h3 class="text-right">{{discountsCount}}</h3>
                    </span>
                </div>
            </div>

            <div class="col s12 m4">
                <div class="adminStudents card-panel teal hoverable">
                    <span class="white-text">
                        <h4>Students</h4>
                        <h3 class="text-right">{{studentsCount}}</h3>
                    </span>
                </div>
            </div>
        </div>

    </div>
</template>

<template name="adminSetPassword">
    <h5>AdminUsers template</h5>

    <div class="row">
    {{#each adminUser}}
        <div class="col s12 m4">
            <div class="card-panel teal hoverable">
                <span class="white-text">
                    <h4>{{username}} <span><i id="deleteUser" class="zmdi zmdi-delete hoverable"></i></span></h4>
                    <div class="row">
                        <div class="input-field col s6">
                            <input id="{{_id}}" type="password" class="validate">
                            <label for="newPassword">New Password</label>
                        </div>
                        <div class="input-field col s6">
                            <a id="setPassword" class="waves-effect waves-light btn">Set Password</a>
                        </div>
                    </div>
                </span>
            </div>
        </div>
    {{/each}}
    </div>

</template>

<template name="adminStudents">
    <h5>AdminStudents template</h5>
</template>

<template name="adminDiscounts">
    <h5>adminDiscounts template</h5>
</template>
